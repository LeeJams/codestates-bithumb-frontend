<template>
  <section style="width: 1000px">
    <canvas id="myChart" width="1000" height="250"></canvas>
  </section>
</template>
<script setup lang="ts">
import { nextTick, ref, onMounted } from "vue";
import Vue3ChartJs from "@j-t-mcc/vue3-chartjs";
import { Chart } from "chart.js";
import {
  CandlestickController,
  CandlestickElement,
} from "chartjs-chart-financial";
import "chartjs-adapter-luxon";

onMounted(() => {
  Chart.register(CandlestickController, CandlestickElement);
});

nextTick(() => {
  const canvas = document.getElementById("myChart") as HTMLCanvasElement;
  const ctx = canvas.getContext("2d") as CanvasRenderingContext2D;
  const myChart = new Chart(ctx, {
    type: "candlestick",
    data: {
      datasets: [
        {
          label: "CHRT - Chart.js Corporation",
          data: [
            {
              x: 1491004800000,
              o: 29.54,
              h: 31.07,
              l: 28,
              c: 28.96,
            },
            {
              x: 1491177600000,
              o: 29.72,
              h: 31.15,
              l: 29.63,
              c: 30.33,
            },
            {
              x: 1491264000000,
              o: 29.8,
              h: 31.66,
              l: 27.98,
              c: 28.87,
            },
            {
              x: 1491350400000,
              o: 29.86,
              h: 30.43,
              l: 26.11,
              c: 28.85,
            },
            {
              x: 1491436800000,
              o: 29.38,
              h: 29.81,
              l: 27.38,
              c: 29.04,
            },
            {
              x: 1491523200000,
              o: 29.53,
              h: 30.25,
              l: 27.44,
              c: 30.2,
            },
            {
              x: 1491782400000,
              o: 30.28,
              h: 31.14,
              l: 30.26,
              c: 30.63,
            },
            {
              x: 1491868800000,
              o: 29.26,
              h: 32.55,
              l: 27.95,
              c: 29.59,
            },
            {
              x: 1491955200000,
              o: 29.35,
              h: 31.81,
              l: 29.35,
              c: 30.44,
            },
            {
              x: 1492041600000,
              o: 31.5,
              h: 31.54,
              l: 29.81,
              c: 31.27,
            },
            {
              x: 1492128000000,
              o: 30.71,
              h: 34.4,
              l: 28.83,
              c: 31.78,
            },
            {
              x: 1492387200000,
              o: 33.02,
              h: 35.42,
              l: 30.57,
              c: 32.71,
            },
            {
              x: 1492473600000,
              o: 33.81,
              h: 35.55,
              l: 32.38,
              c: 34.67,
            },
            {
              x: 1492560000000,
              o: 33.66,
              h: 37.71,
              l: 30.53,
              c: 34.8,
            },
            {
              x: 1492646400000,
              o: 33.59,
              h: 36.53,
              l: 30.49,
              c: 32.4,
            },
            {
              x: 1492732800000,
              o: 34.01,
              h: 36.5,
              l: 31.49,
              c: 34.06,
            },
            {
              x: 1492992000000,
              o: 33.52,
              h: 35.15,
              l: 30.29,
              c: 31.93,
            },
            {
              x: 1493078400000,
              o: 30.56,
              h: 32.04,
              l: 30.46,
              c: 31.96,
            },
            {
              x: 1493164800000,
              o: 30.77,
              h: 31.79,
              l: 28.97,
              c: 31.02,
            },
            {
              x: 1493251200000,
              o: 32.5,
              h: 35.9,
              l: 32.01,
              c: 33.52,
            },
            {
              x: 1493337600000,
              o: 31.96,
              h: 33.41,
              l: 28.91,
              c: 33.11,
            },
            {
              x: 1493596800000,
              o: 31.59,
              h: 35.35,
              l: 30.89,
              c: 32.43,
            },
            {
              x: 1493683200000,
              o: 33.63,
              h: 38.18,
              l: 32.89,
              c: 34.85,
            },
            {
              x: 1493769600000,
              o: 34.21,
              h: 34.28,
              l: 32.19,
              c: 32.5,
            },
            {
              x: 1493856000000,
              o: 32.14,
              h: 32.66,
              l: 30.26,
              c: 31.22,
            },
            {
              x: 1493942400000,
              o: 30.39,
              h: 33.2,
              l: 29.19,
              c: 31.35,
            },
            {
              x: 1494201600000,
              o: 30.63,
              h: 31.71,
              l: 30.42,
              c: 30.57,
            },
            {
              x: 1494288000000,
              o: 29.25,
              h: 30.05,
              l: 25.91,
              c: 28.37,
            },
            {
              x: 1494374400000,
              o: 27.7,
              h: 28.91,
              l: 27.34,
              c: 27.98,
            },
            {
              x: 1494460800000,
              o: 27.25,
              h: 28.42,
              l: 24.57,
              c: 28.34,
            },
            {
              x: 1494547200000,
              o: 27.29,
              h: 29.39,
              l: 24.73,
              c: 26.83,
            },
            {
              x: 1494806400000,
              o: 25.82,
              h: 28.02,
              l: 24.11,
              c: 25.42,
            },
            {
              x: 1494892800000,
              o: 24.21,
              h: 24.36,
              l: 21.37,
              c: 23.34,
            },
            {
              x: 1494979200000,
              o: 24.08,
              h: 25.73,
              l: 21.61,
              c: 23.77,
            },
            {
              x: 1495065600000,
              o: 22.84,
              h: 23.9,
              l: 20.73,
              c: 23.36,
            },
            {
              x: 1495152000000,
              o: 22.62,
              h: 24.03,
              l: 21.07,
              c: 23.63,
            },
            {
              x: 1495411200000,
              o: 23.69,
              h: 26.29,
              l: 22.36,
              c: 24.14,
            },
            {
              x: 1495497600000,
              o: 24.74,
              h: 25.72,
              l: 23.89,
              c: 24.75,
            },
            {
              x: 1495584000000,
              o: 23.91,
              h: 25.51,
              l: 22.46,
              c: 24.44,
            },
            {
              x: 1495670400000,
              o: 24.7,
              h: 25.48,
              l: 24.47,
              c: 24.7,
            },
            {
              x: 1495756800000,
              o: 24.45,
              h: 27.33,
              l: 23.5,
              c: 24.97,
            },
            {
              x: 1496016000000,
              o: 24.36,
              h: 26.09,
              l: 22.45,
              c: 23.66,
            },
            {
              x: 1496102400000,
              o: 23.87,
              h: 25.43,
              l: 22.49,
              c: 24.26,
            },
            {
              x: 1496188800000,
              o: 25.11,
              h: 26.92,
              l: 23.13,
              c: 24.09,
            },
            {
              x: 1496275200000,
              o: 23.81,
              h: 26.26,
              l: 21.77,
              c: 24.59,
            },
            {
              x: 1496361600000,
              o: 24.54,
              h: 25.84,
              l: 21.94,
              c: 23.83,
            },
            {
              x: 1496620800000,
              o: 23.8,
              h: 26.41,
              l: 23.18,
              c: 24.03,
            },
            {
              x: 1496707200000,
              o: 24.99,
              h: 27.88,
              l: 22.83,
              c: 25.87,
            },
          ],
        },
      ],
    },
    options: {
      plugins: {
        legend: {
          display: false,
        },
      },
    },
  });
});
</script>
